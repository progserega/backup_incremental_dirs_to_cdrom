# backup_incremental_dirs_to_cdrom
Find new files in dirs from list and write (append) it (with dirs tree) to cd/dvd/bd/mdisc as new session.

1. Скрипт берёт список директорий из /home/progserega/backup_dirs_to_cdrom.list 
2. Для каждой директории из списка:
2. Смотрит в корне каждой директории файл backup_last_cd_snaphot.stat, берёт его время изменения
3. Ищет в директории файлы с датой изменения новее даты изменения backup_last_cd_snaphot.stat (в каждой директории этот файл свой)
4. если в какой-либо поддиректории есть файл .exclude.backup, то исключаем из общего списка файлов на бэкап файлы из этой директории и всех поддиректорий
4. копирует эти файлы в директорию /mnt/media/tmp/cd_console_burn_cache с сохранением дерева директорий
5. проверяет, что получится их записать (без реальной записи)
6. если всё успешно, то записывает эти файлы на cd/dvd/bd/mdisc в виде дополнительной сессии (т.е. если файл изменился и он был на cd - то он "перезапишется" на cdrom)
7. обновляет метку времени бэкапа для каждой директории
8. При следующем запуске скрипта - в бэкап попадут файлы только новее метки времени

Ремарка:
Чтобы примонтировать cd/dvd/mdisc с мультисессией и увидеть все мультисессии, а не только первую сессию - нужно воспользоваться опцией монтирования session=1, например:

mount -o ro,session=1 /dev/sr0 /mnt/cdrom
